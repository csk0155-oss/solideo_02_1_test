<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Resource Monitor</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- Socket.IO Client CDN -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="app-header">
            <h1>System Resource Monitor</h1>
            <div class="header-info">
                <div class="connection-status" id="connectionStatus">
                    <span class="status-dot"></span>
                    <span id="statusText">Disconnected</span>
                </div>
                <div class="monitoring-time">
                    Time: <span id="monitoringTime">00:00</span> / 05:00
                </div>
            </div>
        </header>

        <!-- Controls -->
        <div class="controls">
            <button class="btn btn-success" id="startBtn" onclick="startMonitoring()">
                Start Monitoring
            </button>
            <button class="btn btn-danger" id="stopBtn" onclick="stopMonitoring()" style="display: none;">
                Stop Monitoring
            </button>
            <button class="btn btn-primary" id="downloadBtn" onclick="downloadPDF()" disabled>
                Download PDF Report
            </button>
            <div class="data-info">
                Data Points: <span id="dataCount">0</span>
            </div>
        </div>

        <!-- Dashboard -->
        <div class="dashboard" id="dashboard">
            <div class="no-data" id="noData">
                <h2>No Data Available</h2>
                <p>Click "Start Monitoring" to begin collecting system data</p>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid" id="statsGrid" style="display: none;">
                <div class="stat-card cpu">
                    <h3>CPU</h3>
                    <div class="stat-value" id="cpuPercent">0.0%</div>
                    <div class="stat-detail" id="cpuCores">0 Cores / 0 Threads</div>
                    <div class="stat-detail" id="cpuFreq">0 MHz</div>
                </div>

                <div class="stat-card memory">
                    <h3>Memory</h3>
                    <div class="stat-value" id="memPercent">0.0%</div>
                    <div class="stat-detail" id="memUsage">0 GB / 0 GB</div>
                    <div class="stat-detail" id="memAvailable">Available: 0 GB</div>
                </div>

                <div class="stat-card disk">
                    <h3>Disk</h3>
                    <div class="stat-value" id="diskPercent">0.0%</div>
                    <div class="stat-detail" id="diskUsage">0 GB / 0 GB</div>
                    <div class="stat-detail" id="diskMount">/</div>
                </div>

                <div class="stat-card network">
                    <h3>Network</h3>
                    <div class="stat-value-small">
                        <div id="netUpload">↑ 0.00 KB/s</div>
                        <div id="netDownload">↓ 0.00 KB/s</div>
                    </div>
                    <div class="stat-detail" id="netTotalUp">Total: ↑ 0.00 MB</div>
                    <div class="stat-detail" id="netTotalDown">Total: ↓ 0.00 MB</div>
                </div>
            </div>

            <!-- Temperature Cards -->
            <div class="temp-grid" id="tempGrid" style="display: none;">
                <div class="stat-card temp-cpu" id="cpuTempCard" style="display: none;">
                    <h3>CPU Temperature</h3>
                    <div class="stat-value" id="cpuTemp">0.0°C</div>
                    <div class="stat-detail" id="cpuTempLabel">-</div>
                </div>

                <div class="stat-card temp-gpu" id="gpuTempCard" style="display: none;">
                    <h3>GPU Temperature</h3>
                    <div class="stat-value" id="gpuTemp">0.0°C</div>
                    <div class="stat-detail" id="gpuName">-</div>
                    <div class="stat-detail" id="gpuLoad">Load: 0.0%</div>
                </div>
            </div>

            <!-- Charts -->
            <div class="charts-container" id="chartsContainer" style="display: none;">
                <div class="chart-card">
                    <h3>CPU Usage</h3>
                    <div class="chart-wrapper">
                        <canvas id="cpuChart"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <h3>Memory Usage</h3>
                    <div class="chart-wrapper">
                        <canvas id="memoryChart"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <h3>Network Speed</h3>
                    <div class="chart-wrapper">
                        <canvas id="networkChart"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <h3>Temperature</h3>
                    <div class="chart-wrapper">
                        <canvas id="temperatureChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Detailed Tables -->
            <div class="tables-container" id="tablesContainer" style="display: none;">
                <div class="table-card">
                    <h3>CPU Details</h3>
                    <table id="cpuTable">
                        <tbody>
                            <tr><td>Overall Usage</td><td id="cpuDetailPercent">0.00%</td></tr>
                            <tr><td>Physical Cores</td><td id="cpuDetailCores">0</td></tr>
                            <tr><td>Logical Threads</td><td id="cpuDetailThreads">0</td></tr>
                            <tr><td>Current Frequency</td><td id="cpuDetailFreq">0.00 MHz</td></tr>
                            <tr><td>Max Frequency</td><td id="cpuDetailMaxFreq">0.00 MHz</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-card">
                    <h3>Memory Details</h3>
                    <table id="memoryTable">
                        <tbody>
                            <tr><td>Total RAM</td><td id="memDetailTotal">0 GB</td></tr>
                            <tr><td>Used RAM</td><td id="memDetailUsed">0 GB (0.0%)</td></tr>
                            <tr><td>Available RAM</td><td id="memDetailAvail">0 GB</td></tr>
                            <tr><td>Swap Total</td><td id="memDetailSwapTotal">0 GB</td></tr>
                            <tr><td>Swap Used</td><td id="memDetailSwapUsed">0 GB (0.0%)</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-card" id="diskTableCard">
                    <h3>Disk Details</h3>
                    <table id="diskTable">
                        <tbody id="diskTableBody">
                            <tr><td>No disk data</td><td>-</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="app-footer">
            <p>Monitoring Interval: 10 seconds | Display Window: 3 minutes (last 18 data points)</p>
            <p>Auto-stop: 5 minutes from start</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="js/charts.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
